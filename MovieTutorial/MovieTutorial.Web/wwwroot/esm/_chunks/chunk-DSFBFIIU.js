import{c as t,e as Qe,f as i,g as x,h as D,i as M,j as s}from"./chunk-7V7WNOD5.js";var ae=Qe((mo,Ge)=>{Ge.exports=Serenity.Extensions});var H=i(s(),1);var w=class w extends H.ColumnsBase{};t(w,"GenreColumns"),w.columnsKey="MovieDB.Genre",w.Fields=(0,H.fieldsProxy)();var de=w;var q=i(s(),1);var d=class d{static getLookup(){return(0,q.getLookup)("MovieDB.Genre")}static async getLookupAsync(){return(0,q.getLookupAsync)("MovieDB.Genre")}};t(d,"GenreRow"),d.idProperty="GenreId",d.nameProperty="Name",d.localTextPrefix="MovieDB.Genre",d.lookupKey="MovieDB.Genre",d.deletePermission="Administration:General",d.insertPermission="Administration:General",d.readPermission="Administration:General",d.updatePermission="Administration:General",d.Fields=(0,q.fieldsProxy)();var Y=d;var ue=i(s(),1),ce;(e=>(e.baseUrl="MovieDB/Genre",e.Methods={Create:"MovieDB/Genre/Create",Update:"MovieDB/Genre/Update",Delete:"MovieDB/Genre/Delete",Retrieve:"MovieDB/Genre/Retrieve",List:"MovieDB/Genre/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(a,n,l){return(0,ue.serviceRequest)(e.baseUrl+"/"+o,a,n,l)}})))(ce||(ce={}));var Re=i(s(),1);var T,U,ve,se;ve=[Re.Decorators.registerFormatter("MovieTutorial.GenreListFormatter")];var B=class B{format(r){let e=r.value;if(!e||!e.length)return"";let o=T==null?void 0:T.itemById;return o?e.map(a=>{var n=o[a];return r.escape(n==null?a:n.Name)}).join(", "):(U!=null||(U=Y.getLookupAsync().then(a=>{var n;T=a;try{(n=r.grid)==null||n.invalidate()}finally{T=null,U=null}}).catch(()=>U=null)),'<i class="fa fa-spinner"></i>')}};se=x(null),B=M(se,0,"GenreListFormatter",ve,B),t(B,"GenreListFormatter"),D(se,1,B);var ne=B;var Q=i(s(),1);var fe=i(s(),1),J=(o=>(o[o.Film=1]="Film",o[o.TvSeries=2]="TvSeries",o[o.MiniSeries=3]="MiniSeries",o))(J||{});fe.Decorators.registerEnumType(J,"MovieTutorial.MovieDB.MovieKind","MovieDB.MovieKind");var b=class b extends Q.ColumnsBase{};t(b,"MovieColumns"),b.columnsKey="MovieDB.Movie",b.Fields=(0,Q.fieldsProxy)();var ye=b;var De=i(s(),1);var u=class u{};t(u,"MovieRow"),u.idProperty="MovieId",u.nameProperty="Title",u.localTextPrefix="MovieDB.Movie",u.deletePermission="Administration:General",u.insertPermission="Administration:General",u.readPermission="Administration:General",u.updatePermission="Administration:General",u.Fields=(0,De.fieldsProxy)();var xe=u;var Pe=i(s(),1),Me;(e=>(e.baseUrl="MovieDB/Movie",e.Methods={Create:"MovieDB/Movie/Create",Update:"MovieDB/Movie/Update",Delete:"MovieDB/Movie/Delete",Retrieve:"MovieDB/Movie/Retrieve",List:"MovieDB/Movie/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(a,n,l){return(0,Pe.serviceRequest)(e.baseUrl+"/"+o,a,n,l)}})))(Me||(Me={}));var z=i(s(),1);var Le=i(s(),1),j=(e=>(e[e.Male=1]="Male",e[e.Female=2]="Female",e))(j||{});Le.Decorators.registerEnumType(j,"MovieTutorial.MovieDB.Gender");var A=class A extends z.ColumnsBase{};t(A,"PersonColumns"),A.columnsKey="MovieDB.Person",A.Fields=(0,z.fieldsProxy)();var ge=A;var I=i(s(),1);var c=class c{static getLookup(){return(0,I.getLookup)("MovieDB.Person")}static async getLookupAsync(){return(0,I.getLookupAsync)("MovieDB.Person")}};t(c,"PersonRow"),c.idProperty="PersonId",c.nameProperty="FullName",c.localTextPrefix="MovieDB.Person",c.lookupKey="MovieDB.Person",c.deletePermission="Administration:General",c.insertPermission="Administration:General",c.readPermission="Administration:General",c.updatePermission="Administration:General",c.Fields=(0,I.fieldsProxy)();var V=c;var Ce=i(s(),1),Se;(e=>(e.baseUrl="MovieDB/Person",e.Methods={Create:"MovieDB/Person/Create",Update:"MovieDB/Person/Update",Delete:"MovieDB/Person/Delete",Retrieve:"MovieDB/Person/Retrieve",List:"MovieDB/Person/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(a,n,l){return(0,Ce.serviceRequest)(e.baseUrl+"/"+o,a,n,l)}})))(Se||(Se={}));var G=i(s(),1);var L=class L extends G.PrefixedContext{constructor(r){if(super(r),!L.init){L.init=!0;var e=G.StringEditor;(0,G.initFormType)(L,["Name",e])}}};t(L,"GenreForm"),L.formKey="MovieDB.Genre";var qe=L;var X=i(s(),1);var O=class O extends X.ColumnsBase{};t(O,"MovieCastColumns"),O.columnsKey="MovieDB.MovieCast",O.Fields=(0,X.fieldsProxy)();var W=O;var P=i(s(),1);var g=class g extends P.PrefixedContext{constructor(r){if(super(r),!g.init){g.init=!0;var e=P.LookupEditor,o=P.StringEditor;(0,P.initFormType)(g,["PersonId",e,"Character",o])}}};t(g,"MovieCastForm"),g.formKey="MovieDB.MovieCast";var F=g;var Be=i(s(),1);var v=class v{};t(v,"MovieCastRow"),v.idProperty="MovieCastId",v.nameProperty="Character",v.localTextPrefix="MovieDB.MovieCast",v.deletePermission="Administration:General",v.insertPermission="Administration:General",v.readPermission="Administration:General",v.updatePermission="Administration:General",v.Fields=(0,Be.fieldsProxy)();var R=v;var Ie=i(s(),1),Z;(e=>(e.baseUrl="MovieDB/MovieCast",e.Methods={Create:"MovieDB/MovieCast/Create",Update:"MovieDB/MovieCast/Update",Delete:"MovieDB/MovieCast/Delete",Retrieve:"MovieDB/MovieCast/Retrieve",List:"MovieDB/MovieCast/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(a,n,l){return(0,Ie.serviceRequest)(e.baseUrl+"/"+o,a,n,l)}})))(Z||(Z={}));var Te=i(s(),1),Ue=i(ae(),1);var he=i(s(),1),ke=i(ae(),1);var Ee,pe,je;Ee=[he.Decorators.registerClass("MovieTutorial.MovieDB.MovieCastEditDialog")];var E=class E extends(je=ke.GridEditorDialog){constructor(){super(...arguments);this.form=new F(this.idPrefix)}getFormKey(){return F.formKey}getNameProperty(){return R.nameProperty}getLocalTextPrefix(){return R.localTextPrefix}};pe=x(je),E=M(pe,0,"MovieCastEditDialog",Ee,E),t(E,"MovieCastEditDialog"),D(pe,1,E);var $=E;var we,le,ze;we=[Te.Decorators.registerEditor("MovieTutorial.MovieDB.MovieCastEditor")];var h=class h extends(ze=Ue.GridEditorBase){getColumnsKey(){return W.columnsKey}getDialogType(){return $}getLocalTextPrefix(){return R.localTextPrefix}constructor(r){super(r)}getAddButtonCaption(){return"Add"}validateEntity(r,e){if(!super.validateEntity(r,e))return!1;var o=e!=null?e:r[this.getIdProperty()];return V.getLookupAsync().then(a=>{var l;var n=(l=this.view)==null?void 0:l.getItemById(o);n&&(n.PersonFullName=a.itemById[r.PersonId].FullName,this.view.updateItem(o,n))}),!0}};le=x(ze),h=M(le,0,"MovieCastEditor",we,h),t(h,"MovieCastEditor"),D(le,1,h);var _=h;var p=i(s(),1);var S=class S extends p.PrefixedContext{constructor(r){if(super(r),!S.init){S.init=!0;var e=p.StringEditor,o=p.TextAreaEditor,a=_,n=p.ImageUploadEditor,l=p.MultipleImageUploadEditor,K=p.IntegerEditor,ie=p.DateEditor,Ye=p.EnumEditor,Je=p.LookupEditor;(0,p.initFormType)(S,["Title",e,"Description",o,"CastList",a,"PrimaryImage",n,"GalleryImages",l,"Storyline",o,"Year",K,"ReleaseDate",ie,"Runtime",K,"Kind",Ye,"GenreList",Je])}}};t(S,"MovieForm"),S.formKey="MovieDB.Movie";var be=S;var Oe=i(s(),1);var f=class f{};t(f,"MovieGenresRow"),f.idProperty="MovieGenreId",f.localTextPrefix="MovieDB.MovieGenres",f.deletePermission="Administration:General",f.insertPermission="Administration:General",f.readPermission="Administration:General",f.updatePermission="Administration:General",f.Fields=(0,Oe.fieldsProxy)();var Ae=f;var Ne=i(s(),1),Fe;(e=>(e.baseUrl="MovieDB/MovieGenres",e.Methods={Create:"MovieDB/MovieGenres/Create",Update:"MovieDB/MovieGenres/Update",Delete:"MovieDB/MovieGenres/Delete",Retrieve:"MovieDB/MovieGenres/Retrieve",List:"MovieDB/MovieGenres/List"},["Create","Update","Delete","Retrieve","List"].forEach(o=>{e[o]=function(a,n,l){return(0,Ne.serviceRequest)(e.baseUrl+"/"+o,a,n,l)}})))(Fe||(Fe={}));var te=i(s(),1);var Ke,me,Ve;Ke=[te.Decorators.registerEditor("MovieTutorial.MovieDB.PersonMovieGrid")];var k=class k extends(Ve=te.EntityGrid){getColumnsKey(){return oe.columnsKey}getRowDefinition(){return R}getService(){return Z.baseUrl}constructor(r){super(r)}getButtons(){return null}getInitialTitle(){return null}usePager(){return!1}getGridCanLoad(){return this.personId!=null}get personId(){return this._personId}set personId(r){this._personId!=r&&(this._personId=r,this.setEquality(R.Fields.PersonId,r),this.refresh())}};me=x(Ve),k=M(me,0,"PersonMovieGrid",Ke,k),t(k,"PersonMovieGrid"),D(me,1,k);var ee=k;var m=i(s(),1);var C=class C extends m.PrefixedContext{constructor(r){if(super(r),!C.init){C.init=!0;var e=m.StringEditor,o=m.DateEditor,a=m.EnumEditor,n=m.IntegerEditor,l=m.ImageUploadEditor,K=m.MultipleImageUploadEditor,ie=ee;(0,m.initFormType)(C,["FirstName",e,"LastName",e,"BirthDate",o,"BirthPlace",e,"Gender",a,"Height",n,"PrimaryImage",l,"GalleryImages",K,"MoviesGrid",ie])}}};t(C,"PersonForm"),C.formKey="MovieDB.Person";var He=C;var re=i(s(),1);var N=class N extends re.ColumnsBase{};t(N,"PersonMovieColumns"),N.columnsKey="MovieTutorial.MovieDB.Columns.PersonMovieColumns",N.Fields=(0,re.fieldsProxy)();var oe=N;export{de as a,qe as b,Y as c,ce as d,ye as e,be as f,xe as g,Me as h,ge as i,He as j,V as k,Se as l};
//# sourceMappingURL=chunk-DSFBFIIU.js.map
